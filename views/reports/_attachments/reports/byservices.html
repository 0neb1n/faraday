<script src="script/jquery.qtip.js"></script>
<script src="script/imagesloaded.pkg.min.js"></script>
<div class="hidden">
</div>
<script type="text/javascript">
function get_report_div(workspace, view,design){
	json_url = "/" + workspace + "/_design/" + design + "/_view/" + view+"?group=true";
 var divs = "";
  $.ajaxSetup({
        async: false
    });
	$.getJSON(json_url, function(data) {
		var colores = ["negro", "rojo"];
		var i = 0;
		//var divs = "";
		divs += "<div class='seccion2'><h2>Services report</h2>";
		$.each(data.rows, function(n, obj){
			divs += "<div class=\"columna unquinto services\" href='#'><article class=\"dato2 fondo-"+colores[i%2]+"\"><section><div class=\"nro texto-"+colores[(i+1)%2]+"\">"+obj.value+"</div><div class=\"txt texto-blanco\">"+obj.key+"</div></section></article></div>";
			i++;
		});
		divs +="</div>";
		return divs
	});
	return divs
}
$("body").append("<div id='load_service'></div>");
$(document).on("mouseenter", ".services", function(){
	var name = $(this)[0].innerText.split("\n")[1];
	var pedido = load_hosts_by_service(name, true);
	$("#load_service").html(pedido).addClass( "tooltip fade top in tooltip-inner load_service" ).css("visibility","visible");
	var elemento = $(this).position();
	$("#load_service").css('top',elemento.top);
	$("#load_service").css('left',elemento.left + 150);
});

timer = null;
bolean = false;
wait = 1000;

    $(document).ready(function () {
        $('*').bind('mousemove keydown scroll', function () {
            clearTimeout(timer);
            bolean = false;
            timer = setTimeout(function () { 
                $("#load_service").css("visibility","hidden");
                bolean = true; }, wait);
        });
        $("body").trigger("mousemove");
    });
</script>